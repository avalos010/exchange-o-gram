{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container" style="margin-top: 100px">
<h3 class="text-center"> Posts </h3>

{% if posts %}
{% for post in posts  %}
<div class=" d-flex flex-column justify-content-center mt-3" >
    <div class="d-flex flex-row align-items-center mb-2">
        <img class="rounded-circle mr-2" src='{{post.profile.photo.url}}' width="40" height='40' />
        <a class="text-dark" href='{% url 'profile' post.profile %}'>{{post.profile}}</a>
    </div>
    <figure class="figure p-3 border">
    <img src="{{post.image.url}}" class="figure-img img-fluid mx-auto d-block"/>
    <figcaption class="figure-caption">  
    {{post.body}}
    </figcaption>
    <div class="d-flex flex-row mt-2">
    {% if user.userprofile in post.likes.all %}
    <i style="cursor:pointer" class="fas fa-heart fa-2x mr-2"></i>
    {% else %}
    <i style="cursor:pointer" class="far fa-heart fa-2x mr-2"></i>
    {% endif %}
  <i  style="cursor:pointer" class="far fa-comment fa-2x mr-2"></i>
    </div>
    <p class="mt-2"><b>{{post.likes.count}} likes</b></p>
    <p class="text-right"><small class="timesince">{{post.date|timesince}}</small></p>
    </figure>
</div>
{% endfor %}
{% else %}
{% endif %}


</div>


{% endblock %}